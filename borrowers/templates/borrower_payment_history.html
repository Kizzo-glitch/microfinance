{% extends 'borrower_base.html' %}
{% load static %}

{% block content %}

        

<h2>My Payment History</h2>

{% for loan in loans %}
    <div class="card mb-3">
        <div class="card-body">
            <h5 class="card-title">Loan ID: {{ loan.id }}</h5>
            <p><strong>Loan Amount:</strong> R{{ loan.amount }}</p>
            <p><strong>Outstanding Balance:</strong> R{{ loan.outstanding_balance }}</p>
            <p><strong>Months Left:</strong> {{ loan.remaining_months }}</p>

            <h6>Payment History:</h6>
            <table class="table">
                <thead>
                    <tr>
                        <th>Date Paid</th>
                        <th>Amount</th>
                        <th>Method</th>
                    </tr>
                </thead>
                <tbody>
                    {% for payment in loan.payment_history %}
                        <tr>
                            <td>{{ payment.date_paid|date:"F j, Y" }}</td>
                            <td>R{{ payment.amount }}</td>
                            <td>{{ payment.get_payment_method_display }}</td>
                        </tr>
                    {% empty %}
                        <tr><td colspan="3">No payments recorded.</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endfor %}



           
    <br><br><br><br><br><br><br><br><br><br><br><br>
 
{% endblock %}
   